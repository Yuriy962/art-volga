{"version":3,"sources":["script.js"],"names":["init","ymaps","Map","center","zoom","searchControlProvider","geoObjects","add","Placemark","balloonContent","iconLayout","iconImageHref","getTimeRemaining","endtime","t","Date","parse","minutes","Math","floor","hours","total","days","initializeClock","id","clock","document","getElementById","daysSpan","querySelector","hoursSpan","minutesSpan","updateClock","innerHTML","slice","clearInterval","timeinterval","setInterval","$","window","on","header","sticky","offsetTop","this","scroll","pageYOffset","classList","remove","href","attr","animate","scrollTop","offset","top","e","preventDefault","form","formData","serialize","inputDoctor","find","length","val","ajax","type","url","data","success","JSON","console","log","result","css","trigger","fancybox","inputmask","doctorName","parent","text","ready","deadline"],"mappings":"AAyEA,SAAAA,OACA,IAAAC,MAAAC,IAAA,SAAA,CACAC,OAAA,CAAA,UAAA,WACAC,KAAA,GACA,CACAC,sBAAA,kBAGAC,WAAAC,IAAA,IAAAN,MAAAO,UAAA,CAAA,UAAA,WAAA,CACAC,eAAA,0CACA,CAGAC,WAAA,gBACAC,cAAA,kBAOA,SAAAC,iBAAAC,GACA,IAAAC,EAAAC,KAAAC,MAAAH,GAAAE,KAAAC,MAAA,IAAAD,MACAE,EAAAC,KAAAC,MAAAL,EAAA,IAAA,GAAA,IACAM,EAAAF,KAAAC,MAAAL,EAAA,KAAA,IAEA,MAAA,CACAO,MAAAP,EACAQ,KAHAJ,KAAAC,MAAAL,EAAA,OAIAM,MAAAA,EACAH,QAAAA,GAIA,SAAAM,gBAAAC,EAAAX,GACA,IAAAY,EAAAC,SAAAC,eAAAH,GACAI,EAAAH,EAAAI,cAAA,SACAC,EAAAL,EAAAI,cAAA,UACAE,EAAAN,EAAAI,cAAA,YAEA,SAAAG,IACA,IAAAlB,EAAAF,iBAAAC,GAEAe,EAAAK,UAAAnB,EAAAQ,KACAQ,EAAAG,WAAA,IAAAnB,EAAAM,OAAAc,OAAA,GACAH,EAAAE,WAAA,IAAAnB,EAAAG,SAAAiB,OAAA,GAEApB,EAAAO,OAAA,GACAc,cAAAC,GAGAJ,IACA,IAAAI,EAAAC,YAAAL,EAAA,KA7HAM,EAAAC,QAAAC,GAAA,OAAA,KAEA,IAAAC,EAAAf,SAAAG,cAAA,kBACAa,EAAAD,EAAAE,UAEAL,EAAAM,MAAAC,QAAA,WACAN,OAAAO,YAAAJ,EACAD,EAAAM,UAAAxC,IAAA,kBAEAkC,EAAAM,UAAAC,OAAA,qBAIAV,EAAA,6BAAAE,GAAA,SAAA,WACA,IAAAS,EAAAX,EAAAM,MAAAM,KAAA,QAIA,OAHAZ,EAAA,cAAAa,QAAA,CACAC,UAAAd,EAAAW,GAAAI,SAAAC,OAEA,KAKAhB,EAAA,QAAAE,GAAA,UAAA,SAAAe,GACAA,EAAAC,iBACA,IAAAC,EAAAnB,EAAAM,MACAc,EAAApB,EAAAM,MAAAe,YACAC,EAAAH,EAAAI,KAAA,wBAIA,OAHAD,EAAAE,OAAA,IACAJ,GAAA,WAAAE,EAAAG,OAEAzB,EAAA0B,KAAA,CACAC,KAAA,OACAC,IAAA,cACAC,KAAAT,EACAU,QAAA,SAAAb,GACAA,EAAAc,KAAArD,MAAAuC,GACAe,QAAAC,IAAAhB,EAAAiB,QACA,YAAAjB,EAAAiB,OACAf,EAAAI,KAAA,0BAAAY,IAAA,UAAA,SAEAhB,EAAAI,KAAA,wBAAAY,IAAA,UAAA,SAEAhB,EAAAI,KAAA,+DAAAE,IAAA,IAAAA,IAAA,IAAAzB,EAAA,QAAAoC,QAAA,eAKApC,IAAAqC,WAEArC,EAAA,qBAAAsC,UAAA,sBAEAtC,EAAA,eAAAE,GAAA,SAAA,WACA,IAAAqC,EAAAvC,EAAAM,MAAAkC,SAAAjB,KAAA,gBAAAkB,OACAzC,EAAA,UAAAuB,KAAA,wBAAAE,IAAAc,QAiBA5E,MAAA+E,MAAAhF,MAyDA,IAAAiF,SAAA,IAAAlE,KAAAA,KAAAC,MAAA,IAAAD,KAAA,KAAA,EAAA,EAAA,GAAA,KAAA,SACAQ,gBAAA,QAAA0D","file":"all.min.js","sourcesContent":["$(window).on('load', () => {\r\n\r\n    var header = document.querySelector('.header__inner');\r\n    var sticky = header.offsetTop;\r\n\r\n    $(this).scroll(function () {\r\n        if(window.pageYOffset > sticky){\r\n            header.classList.add('position-fixed');\r\n        }else{\r\n            header.classList.remove('position-fixed');\r\n        }\r\n    });\r\n\r\n    $('a[href^=\"#\"]:not(a.popup)').on('click', function() {\r\n        let href = $(this).attr('href');\r\n        $('html, body').animate({\r\n            scrollTop: $(href).offset().top\r\n        });\r\n        return false;\r\n    });\r\n\r\n\r\n    // Отправка формы\r\n    $(\"form\").on(\"submit\", (function (e) {\r\n        e.preventDefault();\r\n        let form = $(this);\r\n        let formData = $(this).serialize();\r\n        let inputDoctor = form.find('input[name=\"doctor\"]');\r\n        if(inputDoctor.length > 0){\r\n            formData += '&doctor=' + inputDoctor.val();\r\n        }\r\n        return $.ajax({\r\n            type: \"POST\",\r\n            url: \"../send.php\",\r\n            data: formData,\r\n            success: function (e) {\r\n                e = JSON.parse(e);\r\n                console.log(e.result);\r\n                if(\"success\" === e.result){\r\n                    form.find('.form-message--success').css('display', 'block');\r\n                }else{\r\n                    form.find('.form-message--error').css('display', 'block');\r\n                }\r\n                form.find(\"input[type='name'], input[type='tel'], input[name='doctor']\").val(\"\").val(\"\"), $(\"form\").trigger(\"reset\");\r\n            }\r\n        });\r\n    }));\r\n\r\n    $().fancybox();\r\n\r\n    $('input[type=\"tel\"]').inputmask('+7 (999) 999-99-99');\r\n\r\n    $('.stuff .btn').on('click', function () {\r\n        let doctorName = $(this).parent().find('.stuff__name').text();\r\n        $('#order').find('input[name=\"doctor\"]').val(doctorName);\r\n    });\r\n});\r\n\r\n// Map\r\n// YaMapsShown = false; \r\n// $(window).on('scroll', function() {\r\n//     if (!YaMapsShown){\r\n//         if($(window).scrollTop() + $(window).height() > $(document).height() - 100) {      \r\n//         showYaMaps();\r\n//         YaMapsShown = true;\r\n//         }\r\n//     }\r\n// });\r\n\r\n\r\n\r\nymaps.ready(init);\r\n\r\nfunction init () {\r\n    var myMap = new ymaps.Map('YaMaps', {\r\n            center: [53.201823, 50.126729],\r\n            zoom: 9\r\n        }, {\r\n            searchControlProvider: 'yandex#search'\r\n        });\r\n\r\n    myMap.geoObjects.add(new ymaps.Placemark([53.201823, 50.126729], {\r\n        balloonContent: 'цвет <strong>воды пляжа бонди</strong>'\r\n    }, {\r\n        // preset: 'islands#icon',\r\n        // iconColor: '#0095b6',\r\n        iconLayout: 'default#image',\r\n        iconImageHref: 'img/mark.png',\r\n        // iconImageSize: [67, 81]\r\n    }));\r\n}\r\n\r\n\r\n// countdown\r\nfunction getTimeRemaining(endtime) {\r\n    var t = Date.parse(endtime) - Date.parse(new Date());\r\n    var minutes = Math.floor((t / 1000 / 60) % 60);\r\n    var hours = Math.floor((t / (1000 * 60 * 60)) % 24);\r\n    var days = Math.floor(t / (1000 * 60 * 60 * 24));\r\n    return {\r\n        'total': t,\r\n        'days': days,\r\n        'hours': hours,\r\n        'minutes': minutes\r\n    };\r\n}\r\n   \r\nfunction initializeClock(id, endtime) {\r\n    var clock = document.getElementById(id);\r\n    var daysSpan = clock.querySelector('#days');\r\n    var hoursSpan = clock.querySelector('#hours');\r\n    var minutesSpan = clock.querySelector('#minutes');\r\n\r\n    function updateClock() {\r\n        var t = getTimeRemaining(endtime);\r\n        \r\n        daysSpan.innerHTML = t.days;\r\n        hoursSpan.innerHTML = ('0' + t.hours).slice(-2);\r\n        minutesSpan.innerHTML = ('0' + t.minutes).slice(-2);\r\n\r\n        if (t.total <= 0) {\r\n        clearInterval(timeinterval);\r\n        }\r\n    }\r\n    updateClock();\r\n    var timeinterval = setInterval(updateClock, 1000);\r\n}\r\n   \r\nvar deadline = new Date(Date.parse(new Date(2021, 8, 7, 12, 20)) + 94 * 24 * 60 * 60 * 1000); // for endless timer\r\ninitializeClock('timer', deadline);"]}